# ==============================================================================
# GLOBAL CONFIGURATION
# ==============================================================================
global:
  environment: prod
  clusterDomain: cluster.local

# ==============================================================================
# METADATA
# ==============================================================================
metadata:
  namespace: argo
  labels:
    app.kubernetes.io/name: argo-workflows
    app.kubernetes.io/component: workflow-engine
    app.kubernetes.io/part-of: cicd
  annotations: {}

# ==============================================================================
# CONTROLLER CONFIGURATION
# ==============================================================================
controller:
  image:
    repository: argoproj/workflow-controller
    tag: latest
    pullPolicy: IfNotPresent
  
  replicaCount: 1
  
  resources:
    limits:
      cpu: "500m"
      memory: "512Mi"
    requests:
      cpu: "250m"
      memory: "256Mi"
  
  serviceAccount:
    create: true
    name: ""
    annotations: {}

# ==============================================================================
# SCHEDULED WORKFLOWS
# ==============================================================================
workflows:
  # Hourly web scraping workflows
  hourly:
    enabled: true
    schedule: "0 * * * *"
    timezone: "America/Los_Angeles"
    
    image:
      repository: surflocally/web-scraper
      tag: prod-latest
      pullPolicy: IfNotPresent
    
    jobs:
      - name: swell-scraper-hourly
        enabled: true
      - name: wind-scraper-hourly
        enabled: true
    
    resources:
      limits:
        cpu: "500m"
        memory: "512Mi"
      requests:
        cpu: "250m"
        memory: "256Mi"

# ==============================================================================
# ARTIFACT STORAGE
# ==============================================================================
# MinIO is deployed as a separate chart in /helm/minio (storage namespace)
# Argo Workflows uses the argo-logs bucket for artifact storage
# MinIO endpoint: master:31000
